<!DOCTYPE html>
<html>
<head>
  <title>News Analysis Results</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <header class="page-header">
    <div class="container">
      <h1>News Analysis Results</h1>
      <p class="subtitle">Outputs from selected tools for the chosen article.</p>
    </div>
  </header>

  <section class="container">
    <div class="results-section">
      <div class="article-block">
        <h3 style="margin:0;">{{ article.title }}</h3>
        <p style="opacity:0.7; margin:0.25rem 0 0.5rem 0;">{{ article.published }}</p>
        <div>{{ (article.full_text or article.summary)|default('No content') }}</div>
      </div>

      {% for name, output in outputs.items() %}
        <div class="results">
          <h2 style="margin-top:0;">{{ name|capitalize }} Output</h2>
          <div class="analysis-output">{{ output }}</div>
        </div>
      {% endfor %}
    </div>

    <div class="explanation-box">
      <h2>What's Happening Here?</h2>
      <p>This page shows the outputs produced by the selected tools on the article content. Use the News page to try other tools or run the full pipeline.</p>
    </div>

    <div class="results" style="margin-top:1.5rem;">
      <h2 style="margin-top:0;">Ask a Question (QA)</h2>
      <form action="/analyze/qa" method="post" class="analysis-form">
        <label for="qa-question">Your Question</label>
        <textarea id="qa-question" name="text" rows="2" placeholder="Ask something about this article..."></textarea>
        <input type="hidden" name="context" value="{{ (article.full_text or article.summary)|replace('"','&quot;')|e }}" />
        <button type="submit" class="button-primary">Ask</button>
      </form>
    </div>

    <div class="nav-buttons">
      <a href="/home" class="button-home">üè† Home</a>
      <a href="/news/browse" class="button-secondary">‚Üê Back to News</a>
      <a href="/" class="button-secondary">Analyse Your Own Text</a>
    </div>
  </section>
</body>
</html>
