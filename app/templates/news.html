<!DOCTYPE html>
<html>
<head>
  <title>ABC News - The Linguistic Expedition</title>
  <style>
    body { background: #111; color: #eee; font-family: Georgia, 'Times New Roman', serif; margin:0; padding:0; }
    .header { background: #222; color: #eee; padding: 1rem 2rem; border-bottom: 1px solid #333; }
    .container { max-width: 900px; margin: 2rem auto; background: #1a1a1a; padding: 1.5rem; border-radius: 10px; }
    .feed-form { margin-bottom: 1rem; }
    select { background:#111; color:#eee; border:1px solid #444; padding:0.4rem; border-radius: 6px; }
    a { color: #ddd; text-decoration: none; }
    a:hover { text-decoration: underline; }
    .article { padding: 0.8rem 0; border-bottom: 1px solid #333; }
    .meta { color: #aaa; font-size: 0.9rem; }
    .actions a { display:inline-block; margin-right:0.5rem; background:#e0e0e0; color:#111; padding:0.2rem 0.5rem; border-radius:6px; }
    .back { display:inline-block; margin-top:1rem; background:#eee; color:#111; padding:0.4rem 0.8rem; border-radius:6px; }
  </style>
</head>
<body>
  <div class="header">
    <h1 style="margin:0;">The Linguistic Expedition</h1>
    <div style="opacity:0.8;">Uncover the secrets hidden in ancient texts</div>
  </div>
  <div class="container">
    <form class="feed-form" method="get" action="/news/browse">
      <label>Select ABC feed:</label>
      <select name="feed_name" onchange="this.form.submit()">
        <option value="top_stories" {% if feed_name=='top_stories' %}selected{% endif %}>Top Stories</option>
        <option value="australia" {% if feed_name=='australia' %}selected{% endif %}>Australia</option>
        <option value="just_in" {% if feed_name=='just_in' %}selected{% endif %}>Just In</option>
      </select>
    </form>

    {% if articles %}
      {% for a in articles %}
        <div class="article">
          <div><a href="{{ a.link }}" target="_blank">{{ a.title }}</a></div>
          <div class="meta">{{ a.published }}</div>
          <div style="margin-top:0.4rem;">{{ a.summary|safe }}</div>
          <div class="actions" style="margin-top:0.4rem;">
            <a href="/news/analyze?feed_name={{ feed_name }}&index={{ loop.index0 }}&tools=sentiment">Run Sentiment</a>
            <a href="/news/analyze?feed_name={{ feed_name }}&index={{ loop.index0 }}&tools=ner">Run NER</a>
            <a href="/news/analyze?feed_name={{ feed_name }}&index={{ loop.index0 }}&tools=summarize">Run Summarise</a>
            <a href="/news/analyze?feed_name={{ feed_name }}&index={{ loop.index0 }}&tools=emotion">Run Emotion</a>
            <a href="/news/analyze?feed_name={{ feed_name }}&index={{ loop.index0 }}&tools=sentiment,ner,summarize,emotion">Run Full Pipeline</a>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <div>No articles available.</div>
    {% endif %}
    <a class="back" href="/home">Back to Landing</a>
  </div>
</body>
</html>
