<!DOCTYPE html>
<html>
<head>
    <title>Result</title>
    <link rel="stylesheet" href="/static/style.css">
    <style>
        /* retain minimal overrides for sentiment badges */
        .sentiment-label { font-size: 1.25rem; font-weight: bold; margin-bottom: 1rem; padding: 0.5rem 1rem; border-radius: 6px; display: inline-block; }
    </style>
</head>
<body>
  <div class="container">
    <h1>Analysis Results ({{ task|capitalize }})</h1>

    <div class="results">
      {% if task == "sentiment" %}
          <div class="sentiment-label {{ result.sentiment }}">
              {{ result.sentiment|capitalize }}
          </div>
          <div>
              Polarity: {{ result.polarity }} | Subjectivity: {{ result.subjectivity }}
          </div>
      {% else %}
          <pre style="white-space: pre-wrap; word-break: break-word;">{{ result }}</pre>
      {% endif %}
      <div style="margin-top:1rem;">
        <a class="button-secondary" href="/">Back</a>
      </div>
    </div>

    <div class="explanation-card">
      <h2>Whatâ€™s Happening</h2>
      {% set blurbs = {
        'sentiment': 'This tool estimates tone and objectivity. The polarity score ranges from -1 (negative) to +1 (positive). Subjectivity indicates factual (0) vs opinionated (1).',
        'ner': 'This model identifies named entities (people, places, organisations, dates). Tokens are tagged and spans are returned with labels for easy extraction.',
        'summarize': 'The summariser condenses text into a shorter version while preserving key information. It may rephrase or select salient parts.',
        'emotion': 'Emotion detection maps the text to emotions such as joy, anger, sadness, fear, or surprise. Scores reflect likelihoods per class.',
        'qa': 'The QA model finds the most relevant span of the provided context that answers the question, returning the best match.'
      } %}
      <p>{{ blurbs.get(task, '') }}</p>
    </div>
  </div>
</body>
</html>